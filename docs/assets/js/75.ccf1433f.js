(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{598:function(n,s,t){"use strict";t.r(s);var a=t(43),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("以前はあったと思うんだけど、"),t("code",[n._v("https://aka.ms/wsl2kernel")]),n._v("から勝手にリダイレクトされる\n"),t("a",{attrs:{href:"https://docs.microsoft.com/ja-jp/windows/wsl/install-win10#step-4---download-the-linux-kernel-update-package",target:"_blank",rel:"noopener noreferrer"}},[n._v("日本語のドキュメント"),t("OutboundLink")],1),n._v("に、\nダウンロードリンクがなくなってた。")]),n._v(" "),t("p",[n._v("「英語で読む」っていうメニューがあってもグローバルサイトに遷移はしないので、\nブラウザのロケール変えるかと思ったけど、ググったら\n"),t("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10#step-4---download-the-linux-kernel-update-package",target:"_blank",rel:"noopener noreferrer"}},[n._v("英語のドキュメント"),t("OutboundLink")],1),n._v("に辿り着いた。")]),n._v(" "),t("p",[n._v("URL変えるだけだったが、"),t("code",[n._v("wsl_update_x64.msi")]),n._v("は必須なのに\n日本語の方はタイミング悪く完全に手順抜けてて、不運でしかない。")]),n._v(" "),t("p",[n._v("初期ユーザーでログイン後はすぐに"),t("code",[n._v("sudo su -")]),n._v("して、\n"),t("a",{attrs:{href:"https://github.com/4ki2/dotfiles",target:"_blank",rel:"noopener noreferrer"}},[n._v("dotfiles"),t("OutboundLink")],1),n._v("をセットアップする。\n別途、必要なパッケージや操作はあるが臨機応変に対応。")]),n._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[n._v("add-apt-repository ppa:longsleep/golang-backports\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt")]),n._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" language-pack-ja p7zip-full\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("dotfilesのaptとpip実行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\nchsh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ln")]),n._v(" -s /usr/include/lua5.3 /usr/include/lua\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ln")]),n._v(" -s /usr/lib/x86_64-linux-gnu/liblua5.3.so /usr/lib/liblua.so\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("vimをクローンしてmake "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\nupdate-alternatives --install /usr/bin/editor editor /usr/local/bin/vim "),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("100")]),n._v("\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br")])]),t("p",[t("code",[n._v("update-alternavives")]),n._v("で少し迷ったので"),t("code",[n._v("man")]),n._v("から抜粋。"),t("code",[n._v("ll /etc/alternatives")]),n._v("すると仕組みが分かる。")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("<リンク> は /etc/alternatives/<名前> を指すシンボリックリンクです。\n(例: /usr/bin/pager)\n<名前> はこのリンクグループのマスター名です。\n  (例: pager)\n<パス> は alternative ターゲットファイルのうちの 1 つの場所です。\n  (例: /usr/bin/less)\n<優先度> は整数です; より大きな数を持つ選択肢は、自動モードにおいてより高い\n優先度を持ちます。\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://github.com/microsoft/cascadia-code",target:"_blank",rel:"noopener noreferrer"}},[n._v("PLフォント"),t("OutboundLink")],1),n._v("をインストールして、\nwtのsettings.jsonをリストア(IDがPC別なのでマージだが)して、\n"),t("code",[n._v("./init_wsl2.sh")]),n._v("してからwtをexitして、\npowershellから"),t("code",[n._v("wsl.exe --shutdown")]),n._v("すれば、\n次のwtからはrootユーザーでzshできる。")]),n._v(" "),t("p",[n._v("Docker DesktopでのWSL2の環境変数"),t("code",[n._v("$NAME")]),n._v("は、Windowsのコンピュータ名になるっぽい。\n管理者ユーザーひとりの開発用なので、\nWSL2からはまず使わないホストのコンピューター名より、\nホストのユーザー名の方がファイル操作で都合がよいため、\nWindowsのコンピューター名をWindowsのユーザー名にしてしまう。\n以前のセットアップではそもそも同じだったから意識できてなかった。")]),n._v(" "),t("p",[n._v("あと"),t("code",[n._v("n")]),n._v("も入れとく。")]),n._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("npm")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("npm")]),n._v(" i n -g\nn latest\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt")]),n._v(" purge nodejs "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("npm")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt")]),n._v(" autoremove\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);