(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{556:function(e,a,t){"use strict";t.r(a);var n=t(43),s=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("AWSコンソールでECSクラスタのECSインスタンスを開くと、「古い ECS エージェント」と表示されている。\n"),t("code",[e._v("ecs-cli up")]),e._v(" で作成されているので、"),t("code",[e._v("amazon/amazon-ecs-agent:latest")]),e._v(" が稼働している。")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/agent-update-ecs-ami.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Amazon ECS コンテナエージェントの Amazon ECS-optimized AMI での更新"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("ここを読むと、yumで"),t("code",[e._v("ecs-init")]),e._v("を更新して、docker再起動すればいいって話だけど、\nAWSコンソールにある「エージェントの更新」ボタンでも同じらしい。")]),e._v(" "),t("p",[e._v("とりあえず"),t("code",[e._v("yum update")]),e._v("だけ先にしておいて、")]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("yum list ecs-init\nLoaded plugins: priorities, update-motd, upgrade-helper\nInstalled Packages\necs-init.x86_64                                                                     "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1.44")]),e._v(".0-1.amzn2                                                                      @amzn2extra-ecs\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("p",[e._v("ボタン押したらecs-agentのインスタンスだけ再起動されて解消した。")]),e._v(" "),t("p",[e._v("ECSクラスタは、"),t("a",{attrs:{href:"https://docs.docker.jp/swarm/overview.html#swarm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Swarm"),t("OutboundLink")],1),e._v("と同等らしい。\nローカル開発でクラスタ組むとか縁がないのでよくわかってない。")])])}),[],!1,null,null,null);a.default=s.exports}}]);